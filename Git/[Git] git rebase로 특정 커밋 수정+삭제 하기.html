<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>[Git] git rebase로 특정 커밋 수정+삭제 하기</title>
</head>
<body class="maize-body"><h2 id='git-rebase'>git rebase</h2>
<blockquote><p><code>git rebase</code>의 용도는 주로 <code>merge</code>에 이용되긴 하지만, 커밋 내역을 수정/삭제 할 때에도 많이 쓰인다.</p>
</blockquote>
<p>&nbsp;</p>
<p>먼저 <code>git rebase</code>를 사용하기 위한 커밋 내역은 다음과 같다. 아래쪽으로 갈수록 최근 커밋이다.</p>
<ol start='' >
<li><code>test-1</code> 생성 후 커밋</li>
<li><code>test-1</code> 수정 후 커밋</li>
<li><code>test-1</code> 삭제 후 커밋</li>
<li><code>test-2</code> 생성 후 커밋</li>

</ol>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-1.PNG" referrerpolicy="no-referrer" alt="rebase-1"></p>
<p>&nbsp;</p>
<h3 id='commit-message-수정하기'>Commit message 수정하기</h3>
<p>아래 명령어로 최근 n개의 커밋을 확인해 볼 수 있다. <code>-i</code> 옵션은 <code>interactive</code> 모드를 의미하며 새 에디터가 열린다. (최근 3개의 커밋 내역을 상호작용 모드로)</p>
<pre><code class='language-shell' lang='shell'>$ git rebase -i HEAD~3
</code></pre>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-2.PNG" referrerpolicy="no-referrer" alt="rebase-1"></p>
<p>여기서 2번째 커밋 메시지<code>&quot;delete test-1&quot;</code>를 수정하려면  <code>pick</code>키워드를 <code>reword</code>키워드로 고쳐준다.</p>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-3.PNG" referrerpolicy="no-referrer" alt="rebase-2"></p>
<p>그러면 아래와 같이 새 에디터가 뜨게 된다. 그 곳에서 커밋 메시지를 변경할 수 있다.</p>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-4.PNG" referrerpolicy="no-referrer" alt="rebase-4"></p>
<p><code>delete test-1</code> 에서 <code>will be removed</code>로 커밋 메시지를 수정했다.</p>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-5.PNG" referrerpolicy="no-referrer" alt="rebase-5"></p>
<p>이후 <code>git log</code>로 확인해 보면 실제로 커밋 메시지가 변경된 것을 볼 수 있다.</p>
<p>&nbsp;</p>
<h3 id='특정-commit-삭제하기'>특정 commit 삭제하기</h3>
<p>특정 커밋을 삭제하기 위해선 커밋 메시지를 수정할 때와 마찬가지로 <code>git rebase</code> 명령어를 통해 커밋 내역들을 확인한다.</p>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-6.PNG" referrerpolicy="no-referrer" alt="rebase-8"></p>
<p>그리고 위와 같이 <code>drop</code> 키워드를 사용하면 된다.</p>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-7.PNG" referrerpolicy="no-referrer" alt="rebase-7"></p>
<p>다시 한 번 <code>git log</code>로 커밋 히스토리를 확인해 보면 없애려던 <code>will be removed</code> 커밋이 아예 삭제된 것을 볼 수 있다.</p>
<p>실제 디렉토리에 가보더라도 <code>test-1을 삭제 후 커밋</code>한 행동이 사라졌기 때문에 <code>test-1</code>파일이 남아있음을 확인할 수 있다.</p>
<p><img src="C:\Users\82102\OneDrive\티스토리\Git\image\rebase-8.PNG" referrerpolicy="no-referrer" alt="rebase-8"></p>
</body>
</html>
